<script src="https://cdn.jsdelivr.net/gh/orstavik/parse/parse.js"></script>
<script src="../ElementObserver.js"></script>

<web-comp></web-comp>
<web-comp></web-comp>
<script>console.log("script")</script>

<script>
  (function () {

    window.addEventListener('error', e => (console.log('error') & e.preventDefault()));

    function printFrame({frame}, type = '') {
      console.log(frame + type);
    }

    window.addEventListener('construction-start', printFrame);
    window.addEventListener('construction-end', printFrame);
    window.addEventListener('construction-complete', printFrame);

    class WebComp extends HTMLElement {
      constructor() {
        super();
        printFrame({frame: elementConstructionFrame}, '-constructor-inner');
        throw new Error('test error');
      }
    }

    customElements.define('web-comp', WebComp);
  })();
</script>