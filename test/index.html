<h3>ConstructionFrame</h3>
<test-html test="test1.html">
  <script expected="">
    [
      "HEAD 1 Parser#end",
      "HEAD 1 Parser#complete",
      "H3 2 Parser#end",
      "H3 2 Parser#complete",
      "constructor  3 Predictive#start",
      "WEB-COMP 3 Predictive#end",
      "WEB-COMP 3 Predictive#complete",
      "constructor  4 Predictive#start",
      "WEB-COMP 4 Predictive#end",
      "WEB-COMP 4 Predictive#complete",
      "H3 5 Parser#end",
      "H3 5 Parser#complete",
      "constructor  6 Predictive#start",
      "constructor  7 Predictive#start",
      "WEB-COMP 6 Predictive#end",
      "WEB-COMP 6 Predictive#complete",
      "WEB-COMP 7 Predictive#end",
      "WEB-COMP 7 Predictive#complete",
      "H3 8 Parser#end",
      "H3 8 Parser#complete",
      "constructor  9 Predictive#start",
      "constructor  10 Predictive#start",
      "WEB-COMP 9 Predictive#end",
      "WEB-COMP 9 Predictive#complete",
      "WEB-COMP 10 Predictive#end",
      "WEB-COMP 10 Predictive#complete",
      "H3 11 Parser#end",
      "H3 11 Parser#complete",
      "P 12 Parser#end",
      "P 12 Parser#complete",
      "constructor  13 Predictive#start",
      "constructor  14 Predictive#start",
      "WEB-COMP 13 Predictive#end",
      "WEB-COMP 13 Predictive#complete",
      "WEB-COMP 14 Predictive#end",
      "WEB-COMP 14 Predictive#complete",
      "H3 15 Parser#end",
      "H3 15 Parser#complete",
      "constructor  16 Predictive#start",
      "WEB-COMP 16 Predictive#end",
      "WEB-COMP 16 Predictive#complete",
      "SCRIPT 17 Parser#end",
      "SCRIPT 17 Parser#complete",
      "script",
      "H3 18 Parser#end",
      "H3 18 Parser#complete",
      "SCRIPT 19 Parser#end",
      "SCRIPT 19 Parser#complete",
      "constructor  20 Predictive#start",
      "HTML 21 Parser#end",
      "HTML 21 Parser#complete",
      "BODY 22 Parser#end",
      "BODY 22 Parser#complete",
      "WEB-COMP 20 Predictive#end",
      "WEB-COMP 20 Predictive#complete",
      "interactive"
    ]
  </script>
</test-html>
<test-html test="test2.html">
  <script expected="">
    [
      "HEAD 1 Parser#end",
      "HEAD 1 Parser#complete",
      "H3 2 Parser#end",
      "H3 2 Parser#complete",
      " constructor 3 Predictive#start",
      "INNER-COMP 3 Predictive#end",
      "INNER-COMP 3 Predictive#complete",
      " constructor start 4 Predictive#start",
      " constructor 5 Predictive#start, InnerHTML#start",
      "INNER-COMP 5 Predictive#start, InnerHTML#end",
      "H1 6 Predictive#start, InsertAdjacentHTML#end",
      " constructor end 4 Predictive#start",
      "MIDDLE-COMP 4 Predictive#end",
      "MIDDLE-COMP 4 Predictive#complete",
      "INNER-COMP 5 Predictive#complete, InnerHTML#complete",
      "H1 6 Predictive#complete, InsertAdjacentHTML#complete",
      " constructor start 7 Predictive#start",
      " constructor start 8 Predictive#start, DocumentCreateElement#start",
      " constructor 9 Predictive#start, DocumentCreateElement#start, InnerHTML#start",
      "INNER-COMP 9 Predictive#start, DocumentCreateElement#start, InnerHTML#end",
      "H1 10 Predictive#start, DocumentCreateElement#start, InsertAdjacentHTML#end",
      " constructor end 8 Predictive#start, DocumentCreateElement#start",
      "MIDDLE-COMP 8 Predictive#start, DocumentCreateElement#end",
      " constructor start 11 Predictive#start, CloneNode#start",
      " constructor 12 Predictive#start, CloneNode#start, InnerHTML#start",
      "INNER-COMP 12 Predictive#start, CloneNode#start, InnerHTML#end",
      "H1 13 Predictive#start, CloneNode#start, InsertAdjacentHTML#end",
      " constructor end 11 Predictive#start, CloneNode#start",
      "MIDDLE-COMP 11 Predictive#start, CloneNode#end",
      " constructor end 7 Predictive#start",
      "HTML 14 Parser#end",
      "HTML 14 Parser#complete",
      "BODY 15 Parser#end",
      "BODY 15 Parser#complete",
      "OUTER-COMP 7 Predictive#end",
      "OUTER-COMP 7 Predictive#complete",
      "MIDDLE-COMP 8 Predictive#complete, DocumentCreateElement#complete",
      "INNER-COMP 9 Predictive#complete, DocumentCreateElement#complete, InnerHTML#complete",
      "H1 10 Predictive#complete, DocumentCreateElement#complete, InsertAdjacentHTML#complete",
      "MIDDLE-COMP 11 Predictive#complete, CloneNode#complete",
      "INNER-COMP 12 Predictive#complete, CloneNode#complete, InnerHTML#complete",
      "H1 13 Predictive#complete, CloneNode#complete, InsertAdjacentHTML#complete"
    ]
  </script>
</test-html>
<test-html test="test1_upgrade.html">
  <script expected="">
    [
      "script",
      [1, "Upgrade#start-constructor"],
      [1, "Upgrade#endWEB-COMP"],
      [1, "Upgrade#completeWEB-COMP"],
      [2, "Upgrade#start-constructor"],
      [2, "Upgrade#endWEB-COMP"],
      [2, "Upgrade#completeWEB-COMP"],
      [3, "Upgrade#start-constructor"],
      [3, "Upgrade#endWEB-COMP"],
      [3, "Upgrade#completeWEB-COMP"],
      [4, "Upgrade#start-constructor"],
      [4, "Upgrade#endWEB-COMP"],
      [4, "Upgrade#completeWEB-COMP"],
      [5, "Upgrade#start-constructor"],
      [5, "Upgrade#endWEB-COMP"],
      [5, "Upgrade#completeWEB-COMP"],
      [6, "Upgrade#start-constructor"],
      [6, "Upgrade#endWEB-COMP"],
      [6, "Upgrade#completeWEB-COMP"],
      [7, "Upgrade#start-constructor"],
      [7, "Upgrade#endWEB-COMP"],
      [7, "Upgrade#completeWEB-COMP"],
      [8, "Upgrade#start-constructor"],
      [8, "Upgrade#endWEB-COMP"],
      [8, "Upgrade#completeWEB-COMP"],
      [9, "Upgrade#start-constructor"],
      [9, "Upgrade#endWEB-COMP"],
      [9, "Upgrade#completeWEB-COMP"],
      [10, "Upgrade#start-constructor"],
      [10, "Upgrade#endWEB-COMP"],
      [10, "Upgrade#completeWEB-COMP"],
      [11, "Parser#endHTML"],
      [11, "Parser#completeHTML"],
      [12, "Parser#endBODY"],
      [12, "Parser#completeBODY"],
      "dom interactive"
    ]
  </script>
</test-html>
<test-html test="nested_define.html">
  <script expected="">
    [
      "Upgrade#start one",
      "Upgrade#start, Upgrade#start two",
      "Upgrade#start, Upgrade#start, InnerHTML#start one",
      "expected second time round",
      "constructor end comp one",
      "Upgrade#start, Upgrade#start, InnerHTML#end COMP-ONE",
      "constructor end comp two",
      "Upgrade#start, Upgrade#end COMP-TWO",
      "constructor end comp one",
      "Upgrade#end COMP-ONE",
      "Upgrade#complete COMP-ONE",
      "Upgrade#complete, Upgrade#complete COMP-TWO",
      "Upgrade#complete, Upgrade#complete, InnerHTML#complete COMP-ONE",
      "Parser#end HTML",
      "Parser#complete HTML",
      "Parser#end BODY",
      "Parser#complete BODY"
    ]
  </script>
</test-html>
<test-html test="error_predictive_simple.html">
  <script expected="">
    [
      "constructor",
      "error",
      "Parser#end HTML",
      "Parser#complete HTML",
      "Parser#end HEAD",
      "Parser#complete HEAD",
      "Parser#end BODY",
      "Parser#complete BODY",
      "Parser#end WEB-COMP",
      "Parser#complete WEB-COMP"
    ]
  </script>
</test-html>
<test-html test="error_predictive_and_createElement.html">
  <script expected="">
    [
      "Predictive#start constructor-outer",
      "Predictive#start, DocumentCreateElement#start constructor-inner",
      "error",
      "Predictive#start, DocumentCreateElement#end INNER-COMP",
      "Parser#end HTML",
      "Parser#complete HTML",
      "Parser#end HEAD",
      "Parser#complete HEAD",
      "Parser#end BODY",
      "Parser#complete BODY",
      "Predictive#end OUTER-COMP",
      "Predictive#complete OUTER-COMP",
      "Predictive#complete, DocumentCreateElement#complete INNER-COMP"
    ]
  </script>
</test-html>
<test-html test="error_upgrade.html">
  <script expected="">
    [
      "script",
      "Upgrade#start constructor",
      "error",
      "Upgrade#end WEB-COMP",
      "Upgrade#complete WEB-COMP",
      "Upgrade#start constructor",
      "error",
      "Upgrade#end WEB-COMP",
      "Upgrade#complete WEB-COMP",
      "Parser#end HTML",
      "Parser#complete HTML",
      "Parser#end BODY",
      "Parser#complete BODY"
    ]
  </script>
</test-html>
<test-html test="error_upgrade_2_of_3.html">
  <script expected="">
    [
      "Upgrade#start constructor",
      "Upgrade#end WEB-COMP",
      "Upgrade#complete WEB-COMP",
      "Upgrade#start constructor",
      "error",
      "Upgrade#end WEB-COMP",
      "Upgrade#complete WEB-COMP",
      "Upgrade#start constructor",
      "Upgrade#end WEB-COMP",
      "Upgrade#complete WEB-COMP",
      "Parser#end HTML",
      "Parser#complete HTML",
      "Parser#end BODY",
      "Parser#complete BODY"
    ]
  </script>
</test-html>
<test-html test="error_upgrade_inner_adjacent_clone.html">
  <script expected="">
    [
      "script",
      "Upgrade#start-constructor-inner",
      "Upgrade#start-attribute-inner",
      "error",
      "Upgrade#end ATTRIBUTE-COMP",
      "Upgrade#complete ATTRIBUTE-COMP",
      "Upgrade#start-outer-constructor",
      "Upgrade#start, DocumentCreateElement#start-constructor-inner",
      "Upgrade#start, DocumentCreateElement#end ONCE-COMP",
      "Upgrade#start, CloneNode#start-constructor-inner",
      "error",
      "Upgrade#start, CloneNode#end ONCE-COMP",
      "Upgrade#start, InnerHTML#start-constructor-inner",
      "Upgrade#start, InnerHTML#start-attribute-inner",
      "error",
      "Upgrade#start, InnerHTML#end DIV",
      "Upgrade#start, InnerHTML#end ATTRIBUTE-COMP",
      "Upgrade#start, InsertAdjacentHTML#start-constructor-inner",
      "Upgrade#start, InsertAdjacentHTML#start-attribute-inner",
      "error",
      "Upgrade#start, InsertAdjacentHTML#end ATTRIBUTE-COMP",
      "Upgrade#start-outer-constructor-end",
      "Upgrade#end OUTER-COMP",
      "Upgrade#complete OUTER-COMP",
      "Upgrade#complete, DocumentCreateElement#complete ONCE-COMP",
      "Upgrade#complete, CloneNode#complete ONCE-COMP",
      "Upgrade#complete, InnerHTML#complete DIV",
      "Upgrade#complete, InnerHTML#complete ATTRIBUTE-COMP",
      "Upgrade#complete, InsertAdjacentHTML#complete ATTRIBUTE-COMP",
      "Parser#end HTML",
      "Parser#complete HTML",
      "Parser#end BODY",
      "Parser#complete BODY"
    ]
  </script>
</test-html>

<test-html test="test_insertAdjacentHTML_context_elements.html">
  <script expected="">
    [
      "Parser#end HEAD",
      "Parser#end DIV",
      "Parser#end H1",
      "Parser#end SPAN",
      "Parser#end SCRIPT",
      "InsertAdjacentHTML#end H5",
      "InsertAdjacentHTML#end H55",
      "InsertAdjacentHTML#end H6",
      "Parser#end HTML",
      "Parser#end BODY"
    ]
  </script>
</test-html>

<test-html test="test_insertAdjacentHTML_emptyContext_elements.html">
  <script expected="">
    [
      "Parser#end HEAD",
      "Parser#end DIV",
      "Parser#end H1",
      "Parser#end SPAN",
      "Parser#end SCRIPT",
      "InsertAdjacentHTML#end H5",
      "InsertAdjacentHTML#end H55",
      "InsertAdjacentHTML#end H6",
      "Parser#end HTML",
      "Parser#end BODY"
    ]
  </script>
</test-html>

<test-html test="test_endElements_all.html">
  <script expected="">
    [
      "Parser#end HEAD",
      ["HTML", "BODY", "H3"],
      "Parser#end H3",
      ["HTML", "BODY"],
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY"],
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "H3"],
      "Parser#end H3",
      ["HTML", "BODY"],
      "constructor",
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "WEB-COMP", "H3"],
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "H3"],
      "Parser#end H3",
      ["HTML", "BODY"],
      "constructor",
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "WEB-COMP", "H3", "P"],
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "H3", "P"],
      "Parser#end H3",
      ["HTML", "BODY", "P"],
      "Parser#end P",
      ["HTML", "BODY"],
      "constructor",
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "WEB-COMP", "H3"],
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "H3"],
      "Parser#end H3",
      ["HTML", "BODY"],
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "SCRIPT"],
      "Parser#end SCRIPT",
      ["HTML", "BODY"],
      "script",
      "Parser#end H3",
      ["HTML", "BODY", "SCRIPT"],
      "Parser#end SCRIPT",
      ["HTML", "BODY"],
      "constructor",
      "Parser#end HTML",
      ["BODY", "WEB-COMP"],
      "Parser#end BODY",
      ["WEB-COMP"],
      "Predictive#end WEB-COMP",
      [],
      "interactive"
    ]
  </script>
</test-html>
<script type="module" src="https://cdn.jsdelivr.net/gh/orstavik/TestHTML/TestHTML.js"></script>
<script>
  setTimeout(async function () {
    for (let el of document.querySelectorAll('test-html')) {
      el.shadowRoot.getElementById('clipboard').click();
      const mainArray = JSON.parse(await navigator.clipboard.readText());
      el.children[0].textContent = `
    [
${mainArray.map(row => '      ' + JSON.stringify(row)).join(',\n')}
    ]
`;
      el.removeAttribute('ok');
    }
    console.log(document.body.innerHTML);
  }, 1500);
</script>