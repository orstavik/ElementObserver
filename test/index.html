<h3>ConstructionFrame</h3>
<test-html test="test1.html">
  <!--  probable bug..
        no. It is behavior as wanted. Because if not, then we can have a very long wait. before the view update.
        "8 Predictive#end",
        "8 Predictive#complete",
        "7 Predictive#end",
        "7 Predictive#complete",
        Shouldn't it be
        8 end,
        7 end,
        7 complete,
        8 complete
  
        and same with 10 and 11?
   -->
  <script expected>
    [
      "HEAD 1 Parser#end",
      "H3 1 Parser#end",
      "HEAD 1 Parser#complete",
      "H3 1 Parser#complete",
      "constructor  2 Predictive#start",
      "WEB-COMP 2 Predictive#end",
      "WEB-COMP 2 Predictive#complete",
      "constructor  3 Predictive#start",
      "WEB-COMP 3 Predictive#end",
      "WEB-COMP 3 Predictive#complete",
      "H3 4 Parser#end",
      "H3 4 Parser#complete",
      "constructor  5 Predictive#start",
      "constructor  6 Predictive#start",
      "WEB-COMP 5 Predictive#end",
      "WEB-COMP 5 Predictive#complete",
      "WEB-COMP 6 Predictive#end",
      "WEB-COMP 6 Predictive#complete",
      "H3 7 Parser#end",
      "H3 7 Parser#complete",
      "constructor  8 Predictive#start",
      "constructor  9 Predictive#start",
      "WEB-COMP 8 Predictive#end",
      "WEB-COMP 8 Predictive#complete",
      "WEB-COMP 9 Predictive#end",
      "WEB-COMP 9 Predictive#complete",
      "H3 10 Parser#end",
      "P 10 Parser#end",
      "H3 10 Parser#complete",
      "P 10 Parser#complete",
      "constructor  11 Predictive#start",
      "constructor  12 Predictive#start",
      "WEB-COMP 11 Predictive#end",
      "WEB-COMP 11 Predictive#complete",
      "WEB-COMP 12 Predictive#end",
      "WEB-COMP 12 Predictive#complete",
      "H3 13 Parser#end",
      "H3 13 Parser#complete",
      "constructor  14 Predictive#start",
      "WEB-COMP 14 Predictive#end",
      "WEB-COMP 14 Predictive#complete",
      "SCRIPT 15 Parser#end",
      "SCRIPT 15 Parser#complete",
      "script",
      "H3 16 Parser#end",
      "SCRIPT 16 Parser#end",
      "H3 16 Parser#complete",
      "SCRIPT 16 Parser#complete",
      "constructor  17 Predictive#start",
      "WEB-COMP 17 Predictive#end",
      "WEB-COMP 17 Predictive#complete",
      "HTML 18 Parser#end",
      "BODY 18 Parser#end",
      "HTML 18 Parser#complete",
      "BODY 18 Parser#complete",
      "interactive"]
  </script>
</test-html>
<test-html test="test2.html">
  <script expected>
    [
      "HEAD 1 Parser#end",
      "H3 1 Parser#end",
      "HEAD 1 Parser#complete",
      "H3 1 Parser#complete",
      " constructor 2 Predictive#start",
      "INNER-COMP 2 Predictive#end",
      "INNER-COMP 2 Predictive#complete",
      " constructor start 3 Predictive#start",
      " constructor 4 Predictive#start, InnerHTML#start",
      "INNER-COMP 4 Predictive#start, InnerHTML#end",
      "H1 5 Predictive#start, InsertAdjacentHTML#end",
      " constructor end 3 Predictive#start",
      "MIDDLE-COMP 3 Predictive#end",
      "MIDDLE-COMP 3 Predictive#complete",
      "INNER-COMP 4 Predictive#complete, InnerHTML#complete",
      "H1 5 Predictive#complete, InsertAdjacentHTML#complete",
      " constructor start 6 Predictive#start",
      " constructor start 7 Predictive#start, DocumentCreateElement#start",
      " constructor 8 Predictive#start, DocumentCreateElement#start, InnerHTML#start",
      "INNER-COMP 8 Predictive#start, DocumentCreateElement#start, InnerHTML#end",
      "H1 9 Predictive#start, DocumentCreateElement#start, InsertAdjacentHTML#end",
      " constructor end 7 Predictive#start, DocumentCreateElement#start",
      "MIDDLE-COMP 7 Predictive#start, DocumentCreateElement#end",
      " constructor start 10 Predictive#start, CloneNode#start",
      " constructor 11 Predictive#start, CloneNode#start, InnerHTML#start",
      "INNER-COMP 11 Predictive#start, CloneNode#start, InnerHTML#end",
      "H1 12 Predictive#start, CloneNode#start, InsertAdjacentHTML#end",
      " constructor end 10 Predictive#start, CloneNode#start",
      "MIDDLE-COMP 10 Predictive#start, CloneNode#end",
      " constructor end 6 Predictive#start",
      "OUTER-COMP 6 Predictive#end",
      "OUTER-COMP 6 Predictive#complete",
      "MIDDLE-COMP 7 Predictive#complete, DocumentCreateElement#complete",
      "INNER-COMP 8 Predictive#complete, DocumentCreateElement#complete, InnerHTML#complete",
      "H1 9 Predictive#complete, DocumentCreateElement#complete, InsertAdjacentHTML#complete",
      "MIDDLE-COMP 10 Predictive#complete, CloneNode#complete",
      "INNER-COMP 11 Predictive#complete, CloneNode#complete, InnerHTML#complete",
      "H1 12 Predictive#complete, CloneNode#complete, InsertAdjacentHTML#complete",
      "HTML 13 Parser#end",
      "BODY 13 Parser#end",
      "HTML 13 Parser#complete",
      "BODY 13 Parser#complete"
    ]
  </script>
</test-html>
<test-html test="test1_upgrade.html">
  <script expected>
    [
      "script",
      [1, "Upgrade#start-constructor"],
      [1, "Upgrade#endWEB-COMP"],
      [1, "Upgrade#completeWEB-COMP"],
      [2, "Upgrade#start-constructor"],
      [2, "Upgrade#endWEB-COMP"],
      [2, "Upgrade#completeWEB-COMP"],
      [3, "Upgrade#start-constructor"],
      [3, "Upgrade#endWEB-COMP"],
      [3, "Upgrade#completeWEB-COMP"],
      [4, "Upgrade#start-constructor"],
      [4, "Upgrade#endWEB-COMP"],
      [4, "Upgrade#completeWEB-COMP"],
      [5, "Upgrade#start-constructor"],
      [5, "Upgrade#endWEB-COMP"],
      [5, "Upgrade#completeWEB-COMP"],
      [6, "Upgrade#start-constructor"],
      [6, "Upgrade#endWEB-COMP"],
      [6, "Upgrade#completeWEB-COMP"],
      [7, "Upgrade#start-constructor"],
      [7, "Upgrade#endWEB-COMP"],
      [7, "Upgrade#completeWEB-COMP"],
      [8, "Upgrade#start-constructor"],
      [8, "Upgrade#endWEB-COMP"],
      [8, "Upgrade#completeWEB-COMP"],
      [9, "Upgrade#start-constructor"],
      [9, "Upgrade#endWEB-COMP"],
      [9, "Upgrade#completeWEB-COMP"],
      [10, "Upgrade#start-constructor"],
      [10, "Upgrade#endWEB-COMP"],
      [10, "Upgrade#completeWEB-COMP"],
      [11, "Parser#endHTML"],
      [11, "Parser#endBODY"],
      [11, "Parser#completeHTML"],
      [11, "Parser#completeBODY"],
      "dom interactive"
    ]
  </script>
</test-html>
<test-html test="nested_define.html">
  <script expected>
    [
      "Upgrade#start one",
      "Upgrade#start, Upgrade#start two",
      "Upgrade#start, Upgrade#start, InnerHTML#start one",
      "expected second time round",
      "constructor end comp one",
      "Upgrade#start, Upgrade#start, InnerHTML#end COMP-ONE",
      "constructor end comp two",
      "Upgrade#start, Upgrade#end COMP-TWO",
      "constructor end comp one",
      "Upgrade#end COMP-ONE",
      "Upgrade#complete COMP-ONE",
      "Upgrade#complete, Upgrade#complete COMP-TWO",
      "Upgrade#complete, Upgrade#complete, InnerHTML#complete COMP-ONE",
      "Parser#end HTML",
      "Parser#end BODY",
      "Parser#complete HTML",
      "Parser#complete BODY"
    ]
  </script>
</test-html>
<test-html test="error_predictive_simple.html">
  <script expected>
    [
      "constructor",
      "error",
      "Parser#end HTML",
      "Parser#end HEAD",
      "Parser#end BODY",
      "Parser#end WEB-COMP",
      "Parser#complete HTML",
      "Parser#complete HEAD",
      "Parser#complete BODY",
      "Parser#complete WEB-COMP"
    ]
  </script>
</test-html>
<test-html test="error_predictive_and_createElement.html">
  <script expected>
    [
      "Predictive#start constructor-outer",
      "Predictive#start, DocumentCreateElement#start constructor-inner",
      "error",
      "Predictive#start, DocumentCreateElement#end INNER-COMP",
      "Predictive#end OUTER-COMP",
      "Predictive#complete OUTER-COMP",
      "Predictive#complete, DocumentCreateElement#complete INNER-COMP",
      "Parser#end HTML",
      "Parser#end HEAD",
      "Parser#end BODY",
      "Parser#complete HTML",
      "Parser#complete HEAD",
      "Parser#complete BODY"
    ]
  </script>
</test-html>
<test-html test="error_upgrade.html">
  <script expected>
    [
      "script",
      "Upgrade#start constructor",
      "error",
      "Upgrade#end WEB-COMP",
      "Upgrade#complete WEB-COMP",
      "Upgrade#start constructor",
      "error",
      "Upgrade#end WEB-COMP",
      "Upgrade#complete WEB-COMP",
      "Parser#end HTML",
      "Parser#end BODY",
      "Parser#complete HTML",
      "Parser#complete BODY"
    ]
  </script>
</test-html>
<test-html test="error_upgrade_inner_adjacent_clone.html">
  <script expected>
    [
      "script",
      "Upgrade#start-constructor-inner",
      "Upgrade#start-attribute-inner",
      "error",
      "Upgrade#end ATTRIBUTE-COMP",
      "Upgrade#complete ATTRIBUTE-COMP",
      "Upgrade#start-outer-constructor",
      "Upgrade#start, DocumentCreateElement#start-constructor-inner",
      "Upgrade#start, DocumentCreateElement#end ONCE-COMP",
      "Upgrade#start, CloneNode#start-constructor-inner",
      "error",
      "Upgrade#start, CloneNode#end ONCE-COMP",
      "Upgrade#start, InnerHTML#start-constructor-inner",
      "Upgrade#start, InnerHTML#start-attribute-inner",
      "error",
      "Upgrade#start, InnerHTML#end DIV",
      "Upgrade#start, InnerHTML#end ATTRIBUTE-COMP",
      "Upgrade#start, InsertAdjacentHTML#start-constructor-inner",
      "Upgrade#start, InsertAdjacentHTML#start-attribute-inner",
      "error",
      "Upgrade#start, InsertAdjacentHTML#end ATTRIBUTE-COMP",
      "Upgrade#start-outer-constructor-end",
      "Upgrade#end OUTER-COMP",
      "Upgrade#complete OUTER-COMP",
      "Upgrade#complete, DocumentCreateElement#complete ONCE-COMP",
      "Upgrade#complete, CloneNode#complete ONCE-COMP",
      "Upgrade#complete, InnerHTML#complete DIV",
      "Upgrade#complete, InnerHTML#complete ATTRIBUTE-COMP",
      "Upgrade#complete, InsertAdjacentHTML#complete ATTRIBUTE-COMP",
      "Parser#end HTML",
      "Parser#end BODY",
      "Parser#complete HTML",
      "Parser#complete BODY"
    ]
  </script>
</test-html>

<test-html test="test_insertAdjacentHTML_context_elements.html">
  <script expected>
    [
      "Parser#end HEAD",
      "Parser#end DIV",
      "Parser#end H1",
      "Parser#end SPAN",
      "Parser#end SCRIPT",
      "InsertAdjacentHTML#end H5",
      "InsertAdjacentHTML#end H6",
      "Parser#end HTML",
      "Parser#end BODY"
    ]
  </script>
</test-html>

<test-html test="test_insertAdjacentHTML_emptyContext_elements.html">
  <script expected>
    [
      "Parser#end HEAD",
      "Parser#end DIV",
      "Parser#end H1",
      "Parser#end SPAN",
      "Parser#end SCRIPT",
      "InsertAdjacentHTML#end H5",
      "InsertAdjacentHTML#end H6",
      "Parser#end HTML",
      "Parser#end BODY"
    ]
  </script>
</test-html>

<test-html test="test_endElements_all.html">
  <script expected>
    [
      "Parser#end HEAD",
      ["HTML", "BODY", "H3"],
      "Parser#end H3",
      ["HTML", "BODY"],
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY"],
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "H3"],
      "Parser#end H3",
      ["HTML", "BODY"],
      "constructor",
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "WEB-COMP", "H3"],
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "H3"],
      "Parser#end H3",
      ["HTML", "BODY"],
      "constructor",
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "WEB-COMP", "H3", "P"],
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "H3", "P"],
      "Parser#end H3",
      ["HTML", "BODY", "P"],
      "Parser#end P",
      ["HTML", "BODY"],
      "constructor",
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "WEB-COMP", "H3"],
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "H3"],
      "Parser#end H3",
      ["HTML", "BODY"],
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "SCRIPT"],
      "Parser#end SCRIPT",
      ["HTML", "BODY"],
      "script",
      "Parser#end H3",
      ["HTML", "BODY", "SCRIPT"],
      "Parser#end SCRIPT",
      ["HTML", "BODY"],
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY"],
      "Parser#end HTML",
      ["BODY"],
      "Parser#end BODY",
      [],
      "interactive"
    ]
  </script>
</test-html>
<script type="module" src="https://cdn.jsdelivr.net/gh/orstavik/TestHTML/TestHTML.js"></script>