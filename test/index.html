<h3>ConstructionFrame</h3>
<test-html test="test1.html">
  <script expected="">
    [
      "HEAD Parser#end",
      "HEAD Parser#complete",
      "H3 Parser#end",
      "H3 Parser#complete",
      "constructor  Predictive#start",
      "WEB-COMP Predictive#end",
      "WEB-COMP Predictive#complete",
      "constructor  Predictive#start",
      "WEB-COMP Predictive#end",
      "WEB-COMP Predictive#complete",
      "H3 Parser#end",
      "H3 Parser#complete",
      "constructor  Predictive#start",
      "constructor  Predictive#start",
      "WEB-COMP Predictive#end",
      "WEB-COMP Predictive#complete",
      "WEB-COMP Predictive#end",
      "WEB-COMP Predictive#complete",
      "H3 Parser#end",
      "H3 Parser#complete",
      "constructor  Predictive#start",
      "constructor  Predictive#start",
      "WEB-COMP Predictive#end",
      "WEB-COMP Predictive#complete",
      "WEB-COMP Predictive#end",
      "WEB-COMP Predictive#complete",
      "H3 Parser#end",
      "H3 Parser#complete",
      "P Parser#end",
      "P Parser#complete",
      "constructor  Predictive#start",
      "constructor  Predictive#start",
      "WEB-COMP Predictive#end",
      "WEB-COMP Predictive#complete",
      "WEB-COMP Predictive#end",
      "WEB-COMP Predictive#complete",
      "H3 Parser#end",
      "H3 Parser#complete",
      "constructor  Predictive#start",
      "WEB-COMP Predictive#end",
      "WEB-COMP Predictive#complete",
      "SCRIPT Parser#end",
      "SCRIPT Parser#complete",
      "script",
      "H3 Parser#end",
      "H3 Parser#complete",
      "SCRIPT Parser#end",
      "SCRIPT Parser#complete",
      "constructor  Predictive#start",
      "HTML Parser#end",
      "HTML Parser#complete",
      "BODY Parser#end",
      "BODY Parser#complete",
      "WEB-COMP Predictive#end",
      "WEB-COMP Predictive#complete",
      "interactive"
    ]
  </script>
</test-html>
<test-html test="test2.html">
  <script expected="">
    [
      "HEAD Parser#end",
      "HEAD Parser#complete",
      "H3 Parser#end",
      "H3 Parser#complete",
      " constructor Predictive#start",
      "INNER-COMP Predictive#end",
      "INNER-COMP Predictive#complete",
      " constructor start Predictive#start",
      " constructor Predictive#start, InnerHTML#start",
      "INNER-COMP Predictive#start, InnerHTML#end",
      "H1 Predictive#start, InsertAdjacentHTML#end",
      " constructor end Predictive#start",
      "MIDDLE-COMP Predictive#end",
      "MIDDLE-COMP Predictive#complete",
      "INNER-COMP Predictive#complete, InnerHTML#complete",
      "H1 Predictive#complete, InsertAdjacentHTML#complete",
      " constructor start Predictive#start",
      " constructor start Predictive#start, DocumentCreateElement#start",
      " constructor Predictive#start, DocumentCreateElement#start, InnerHTML#start",
      "INNER-COMP Predictive#start, DocumentCreateElement#start, InnerHTML#end",
      "H1 Predictive#start, DocumentCreateElement#start, InsertAdjacentHTML#end",
      " constructor end Predictive#start, DocumentCreateElement#start",
      "MIDDLE-COMP Predictive#start, DocumentCreateElement#end",
      " constructor start Predictive#start, CloneNode#start",
      " constructor Predictive#start, CloneNode#start, InnerHTML#start",
      "INNER-COMP Predictive#start, CloneNode#start, InnerHTML#end",
      "H1 Predictive#start, CloneNode#start, InsertAdjacentHTML#end",
      " constructor end Predictive#start, CloneNode#start",
      "MIDDLE-COMP Predictive#start, CloneNode#end",
      " constructor end Predictive#start",
      "HTML Parser#end",
      "HTML Parser#complete",
      "BODY Parser#end",
      "BODY Parser#complete",
      "OUTER-COMP Predictive#end",
      "OUTER-COMP Predictive#complete",
      "MIDDLE-COMP Predictive#complete, DocumentCreateElement#complete",
      "INNER-COMP Predictive#complete, DocumentCreateElement#complete, InnerHTML#complete",
      "H1 Predictive#complete, DocumentCreateElement#complete, InsertAdjacentHTML#complete",
      "MIDDLE-COMP Predictive#complete, CloneNode#complete",
      "INNER-COMP Predictive#complete, CloneNode#complete, InnerHTML#complete",
      "H1 Predictive#complete, CloneNode#complete, InsertAdjacentHTML#complete"
    ]
  </script>
</test-html>
<test-html test="test1_upgrade.html">
  <script expected="">
    [
      "script",
      "Upgrade#start-constructor",
      "Upgrade#endWEB-COMP",
      "Upgrade#completeWEB-COMP",
      "Upgrade#start-constructor",
      "Upgrade#endWEB-COMP",
      "Upgrade#completeWEB-COMP",
      "Upgrade#start-constructor",
      "Upgrade#endWEB-COMP",
      "Upgrade#completeWEB-COMP",
      "Upgrade#start-constructor",
      "Upgrade#endWEB-COMP",
      "Upgrade#completeWEB-COMP",
      "Upgrade#start-constructor",
      "Upgrade#endWEB-COMP",
      "Upgrade#completeWEB-COMP",
      "Upgrade#start-constructor",
      "Upgrade#endWEB-COMP",
      "Upgrade#completeWEB-COMP",
      "Upgrade#start-constructor",
      "Upgrade#endWEB-COMP",
      "Upgrade#completeWEB-COMP",
      "Upgrade#start-constructor",
      "Upgrade#endWEB-COMP",
      "Upgrade#completeWEB-COMP",
      "Upgrade#start-constructor",
      "Upgrade#endWEB-COMP",
      "Upgrade#completeWEB-COMP",
      "Upgrade#start-constructor",
      "Upgrade#endWEB-COMP",
      "Upgrade#completeWEB-COMP",
      "Parser#endHTML",
      "Parser#completeHTML",
      "Parser#endBODY",
      "Parser#completeBODY",
      "dom interactive"
    ]
  </script>
</test-html>
<test-html test="nested_define.html">
  <script expected="">
    [
      "Upgrade#start one",
      "Upgrade#start, Upgrade#start two",
      "Upgrade#start, Upgrade#start, InnerHTML#start one",
      "expected second time round",
      "constructor end comp one",
      "Upgrade#start, Upgrade#start, InnerHTML#end COMP-ONE",
      "constructor end comp two",
      "Upgrade#start, Upgrade#end COMP-TWO",
      "constructor end comp one",
      "Upgrade#end COMP-ONE",
      "Upgrade#complete COMP-ONE",
      "Upgrade#complete, Upgrade#complete COMP-TWO",
      "Upgrade#complete, Upgrade#complete, InnerHTML#complete COMP-ONE",
      "Parser#end HTML",
      "Parser#complete HTML",
      "Parser#end BODY",
      "Parser#complete BODY"
    ]
  </script>
</test-html>
<test-html test="error_predictive_simple.html">
  <script expected="">
    [
      "constructor",
      "error",
      "Parser#end HTML",
      "Parser#complete HTML",
      "Parser#end HEAD",
      "Parser#complete HEAD",
      "Parser#end BODY",
      "Parser#complete BODY",
      "Parser#end WEB-COMP",
      "Parser#complete WEB-COMP"
    ]
  </script>
</test-html>
<test-html test="error_predictive_and_createElement.html">
  <script expected="">
    [
      "Predictive#start constructor-outer",
      "Predictive#start, DocumentCreateElement#start constructor-inner",
      "error",
      "Predictive#start, DocumentCreateElement#end INNER-COMP",
      "Parser#end HTML",
      "Parser#complete HTML",
      "Parser#end HEAD",
      "Parser#complete HEAD",
      "Parser#end BODY",
      "Parser#complete BODY",
      "Predictive#end OUTER-COMP",
      "Predictive#complete OUTER-COMP",
      "Predictive#complete, DocumentCreateElement#complete INNER-COMP"
    ]
  </script>
</test-html>
<test-html test="error_upgrade.html">
  <script expected="">
    [
      "script",
      "Upgrade#start constructor",
      "error",
      "Upgrade#end WEB-COMP",
      "Upgrade#complete WEB-COMP",
      "Upgrade#start constructor",
      "error",
      "Upgrade#end WEB-COMP",
      "Upgrade#complete WEB-COMP",
      "Parser#end HTML",
      "Parser#complete HTML",
      "Parser#end BODY",
      "Parser#complete BODY"
    ]
  </script>
</test-html>
<test-html test="error_upgrade_2_of_3.html">
  <script expected="">
    [
      "Upgrade#start constructor",
      "Upgrade#end WEB-COMP",
      "Upgrade#complete WEB-COMP",
      "Upgrade#start constructor",
      "error",
      "Upgrade#end WEB-COMP",
      "Upgrade#complete WEB-COMP",
      "Upgrade#start constructor",
      "Upgrade#end WEB-COMP",
      "Upgrade#complete WEB-COMP",
      "Parser#end HTML",
      "Parser#complete HTML",
      "Parser#end BODY",
      "Parser#complete BODY"
    ]
  </script>
</test-html>
<test-html test="error_upgrade_inner_adjacent_clone.html">
  <script expected="">
    [
      "script",
      "Upgrade#start-constructor-inner",
      "Upgrade#start-attribute-inner",
      "error",
      "Upgrade#end ATTRIBUTE-COMP",
      "Upgrade#complete ATTRIBUTE-COMP",
      "Upgrade#start-outer-constructor",
      "Upgrade#start, DocumentCreateElement#start-constructor-inner",
      "Upgrade#start, DocumentCreateElement#end ONCE-COMP",
      "Upgrade#start, CloneNode#start-constructor-inner",
      "error",
      "Upgrade#start, CloneNode#end ONCE-COMP",
      "Upgrade#start, InnerHTML#start-constructor-inner",
      "Upgrade#start, InnerHTML#start-attribute-inner",
      "error",
      "Upgrade#start, InnerHTML#end DIV",
      "Upgrade#start, InnerHTML#end ATTRIBUTE-COMP",
      "Upgrade#start, InsertAdjacentHTML#start-constructor-inner",
      "Upgrade#start, InsertAdjacentHTML#start-attribute-inner",
      "error",
      "Upgrade#start, InsertAdjacentHTML#end ATTRIBUTE-COMP",
      "Upgrade#start-outer-constructor-end",
      "Upgrade#end OUTER-COMP",
      "Upgrade#complete OUTER-COMP",
      "Upgrade#complete, DocumentCreateElement#complete ONCE-COMP",
      "Upgrade#complete, CloneNode#complete ONCE-COMP",
      "Upgrade#complete, InnerHTML#complete DIV",
      "Upgrade#complete, InnerHTML#complete ATTRIBUTE-COMP",
      "Upgrade#complete, InsertAdjacentHTML#complete ATTRIBUTE-COMP",
      "Parser#end HTML",
      "Parser#complete HTML",
      "Parser#end BODY",
      "Parser#complete BODY"
    ]
  </script>
</test-html>

<test-html test="test_insertAdjacentHTML_context_elements.html">
  <script expected="">
    [
      "Parser#end HEAD",
      "Parser#end DIV",
      "Parser#end H1",
      "Parser#end SPAN",
      "Parser#end SCRIPT",
      "InsertAdjacentHTML#end H5",
      "InsertAdjacentHTML#end H55",
      "InsertAdjacentHTML#end H6",
      "Parser#end HTML",
      "Parser#end BODY"
    ]
  </script>
</test-html>

<test-html test="test_insertAdjacentHTML_emptyContext_elements.html">
  <script expected="">
    [
      "Parser#end HEAD",
      "Parser#end DIV",
      "Parser#end H1",
      "Parser#end SPAN",
      "Parser#end SCRIPT",
      "InsertAdjacentHTML#end H5",
      "InsertAdjacentHTML#end H55",
      "InsertAdjacentHTML#end H6",
      "Parser#end HTML",
      "Parser#end BODY"
    ]
  </script>
</test-html>

<test-html test="test_endElements_all.html">
  <script expected="">
    [
      "Parser#end HEAD",
      ["HTML", "BODY", "H3"],
      "Parser#end H3",
      ["HTML", "BODY"],
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY"],
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "H3"],
      "Parser#end H3",
      ["HTML", "BODY"],
      "constructor",
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "WEB-COMP", "H3"],
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "H3"],
      "Parser#end H3",
      ["HTML", "BODY"],
      "constructor",
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "WEB-COMP", "H3", "P"],
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "H3", "P"],
      "Parser#end H3",
      ["HTML", "BODY", "P"],
      "Parser#end P",
      ["HTML", "BODY"],
      "constructor",
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "WEB-COMP", "H3"],
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "H3"],
      "Parser#end H3",
      ["HTML", "BODY"],
      "constructor",
      "Predictive#end WEB-COMP",
      ["HTML", "BODY", "SCRIPT"],
      "Parser#end SCRIPT",
      ["HTML", "BODY"],
      "script",
      "Parser#end H3",
      ["HTML", "BODY", "SCRIPT"],
      "Parser#end SCRIPT",
      ["HTML", "BODY"],
      "constructor",
      "Parser#end HTML",
      ["BODY", "WEB-COMP"],
      "Parser#end BODY",
      ["WEB-COMP"],
      "Predictive#end WEB-COMP",
      [],
      "interactive"
    ]
  </script>
</test-html>
<script type="module" src="https://cdn.jsdelivr.net/gh/orstavik/TestHTML/TestHTML.js"></script>
<script>
  setTimeout(async function () {
    for (let el of document.querySelectorAll('test-html')) {
      el.shadowRoot.getElementById('clipboard').click();
      const mainArray = JSON.parse(await navigator.clipboard.readText());
      el.children[0].textContent = `
    [
${mainArray.map(row => '      ' + JSON.stringify(row)).join(',\n')}
    ]
`;
      el.removeAttribute('ok');
    }
    console.log(document.body.innerHTML);
  }, 1500);
</script>